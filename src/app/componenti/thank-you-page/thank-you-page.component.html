<header>
  <!-- navbar con logo e carrello-->
  <nav>
    <div class="nav-bottom">
     <div class="grid-item img" (click)="navigateToHome()" style="cursor: pointer;"><img src="assets/immagini/Logo_NIKE.svg.png"  alt="Logo" /></div>
     <div></div> <!-- colonna centrale vuota -->
     <div class="grid-text2">      
       <div class="search-icons">
         <button class="cart-btn" (click)="navigateToCart()" title="Carrello">
           <div class="cart-icon-wrapper">
             <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
               <path d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.7 15.3C4.3 15.7 4.6 16.5 5.1 16.5H17M17 13V16.5M9 19.5C9.8 19.5 10.5 20.2 10.5 21S9.8 22.5 9 22.5 7.5 21.8 7.5 21 8.2 19.5 9 19.5ZM20 19.5C20.8 19.5 21.5 20.2 21.5 21S20.8 22.5 20 22.5 18.5 21.8 18.5 21 19.2 19.5 20 19.5Z" stroke="currentColor" stroke-width="2" fill="none"/>
             </svg>
             <span class="cart-count" *ngIf="carrelloService.getCartItemCount() > 0">{{ carrelloService.getCartItemCount() }}</span>
           </div>
         </button>
       </div>
     </div>
    </div>
  </nav>
</header>

<div class="thank-you-container">
    <!-- Success Section -->
    <div class="success-section">
        <div class="success-icon">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" fill="#4CAF50"/>
                <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
        
        <h1 class="success-title">Ordine Completato!</h1>
        <p class="success-message">
            Il tuo pagamento è stato elaborato con successo.<br>
            Riceverai una conferma via email a breve.
        </p>
        
        <div class="order-info">
            <div class="info-item">
                 <span class="info-label">Numero Ordine:</span>
                 <span class="info-value">#{{ orderNumber }}</span>
             </div>
             <div class="info-item">
                 <span class="info-label">Data Ordine:</span>
                 <span class="info-value">{{ orderDate }}</span>
             </div>
        </div>
    </div>

    <!-- Order Summary Section -->
    <div class="order-summary-section">
        <h2 class="section-title">Riepilogo Ordine</h2>
        
        <div class="order-items">
            <div *ngFor="let product of cart; let i = index" class="order-item">
                <div class="item-image">
                    <img [src]="product.image" [alt]="product.name"/>
                </div>
                
                <div class="item-details">
                    <h3 class="item-name">{{ product.name }}</h3>
                    <div class="item-variants">
                        <span class="variant">Taglia: {{ product.size }}</span>
                        <span class="variant">Colore: {{ product.color }}</span>
                    </div>
                    <div class="item-quantity">Quantità: {{ product.quantity }}</div>
                </div>
                
                <div class="item-price">
                    €{{ (product.price * product.quantity).toFixed(2) }}
                </div>
            </div>
        </div>
        
        <div class="order-total">
            <div class="total-row">
                <span class="total-label">Subtotale:</span>
                <span class="total-amount">€{{ getSubtotal() }}</span>
            </div>
            <div class="total-row">
                <span class="total-label">Spedizione:</span>
                <span class="total-amount">€{{ getShippingCost() }}</span>
            </div>
            <div class="total-row final-total">
                <span class="total-label">Totale Ordine:</span>
                <span class="total-amount">€{{ getOrderTotal() }}</span>
            </div>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-section">
        <button type="button" class="btn btn-primary" routerLink="/">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <polyline points="9,22 9,12 15,12 15,22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Torna alla Homepage
        </button>
        
        <button type="button" class="btn btn-secondary" routerLink="/prodotti">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="9" cy="21" r="1" stroke="currentColor" stroke-width="2"/>
                <circle cx="20" cy="21" r="1" stroke="currentColor" stroke-width="2"/>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Continua lo Shopping
        </button>
    </div>

    <!-- Additional Info -->
    <div class="info-section">
        <div class="info-card">
            <div class="info-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="2"/>
                    <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2"/>
                </svg>
            </div>
            <div class="info-content">
                <h4>Conferma via Email</h4>
                <p>Ti invieremo una conferma dell'ordine e i dettagli di spedizione via email.</p>
            </div>
        </div>
        
        <div class="info-card">
            <div class="info-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="1" y="3" width="15" height="13" stroke="currentColor" stroke-width="2"/>
                    <path d="M16 8l4-4-4-4" stroke="currentColor" stroke-width="2"/>
                </svg>
            </div>
            <div class="info-content">
                <h4>Spedizione</h4>
                <p>Il tuo ordine verrà elaborato e spedito entro 1-2 giorni lavorativi.</p>
            </div>
        </div>
        
        <div class="info-card">
            <div class="info-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-4" stroke="currentColor" stroke-width="2"/>
                    <polyline points="9,11 12,14 15,11" stroke="currentColor" stroke-width="2"/>
                    <line x1="12" y1="2" x2="12" y2="14" stroke="currentColor" stroke-width="2"/>
                </svg>
            </div>
            <div class="info-content">
                <h4>Tracking</h4>
                <p>Riceverai un numero di tracking per monitorare la spedizione del tuo ordine.</p>
            </div>
        </div>
    </div>
</div>